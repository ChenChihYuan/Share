(this.webpackJsonpbuilders=this.webpackJsonpbuilders||[]).push([[0],{129:function(e,t,n){},135:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=135},144:function(e,t,n){},149:function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r),a=n(16),c=n.n(a),o=(n(129),n(93),n(117)),l=n(20),s=n(116),u=n(203),d=n(74),j=n(4),p=n.n(j),h=n(6),b=n(15),x=n(24),f=n(192),m=n(115),O=n(194),g=n(103),v=n.n(g),w=n(104),C=n.n(w),y=n(5),I=Object(f.a)((function(e){return{menuButton:{border:"2px solid lime","@media (max-width: 1280px)":{border:"2px solid lime"}},menuButtonDisabled:{"@media (max-width: 1280px)":{}}}})),k=function(e){var t=e.onClick,n=e.disabled,r=e.open,i=I();return Object(y.jsx)(O.a,{edge:"start",className:n?i.menuButtonDisabled:i.menuButton,color:"secondary","aria-label":"menu",onClick:t,disabled:n,children:r?Object(y.jsx)(v.a,{style:{width:30,height:30}}):Object(y.jsx)(C.a,{style:{width:30,height:30}})})},S=n(154),E=n(205),F=n(105),N=n.n(F),D=function(e){if(null!=e)return e.value;throw new Error("Ref undefined or null: ",e)},L=function(e,t,n){return"".concat(e,"\xb0 ").concat(t,"' ").concat(n,"''")},B=function(e,t,n){return null!==t?Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e}),Object(y.jsx)("td",{children:t})]},n):Object(y.jsx)("tr",{children:Object(y.jsx)("td",{colSpan:"2",children:e})},n)},P=function(e){return null!=e.type&&null!=e.value},T=function(e){return"".concat(e.value)},R=function e(t){var n=t.name,r=t.obj,i=0;if(void 0===r||null===r)return null;var a="object"===typeof r;return Object(y.jsx)(E.a,{nodeId:""+i,label:"".concat(a?n:r),children:a?P(r)?T(r):Object.keys(r).map((function(t){return Object(y.jsx)(e,{name:t,obj:r[t]},i++)})):null})},M=function(e){var t=e.viewer,n=e.element,r=n,i=0;return Object(y.jsx)("table",{children:Object(y.jsx)("tbody",{children:Object.keys(r).map((function(e){return function(e,t,n,r,i){var a=r[n];if(null===a||void 0===a)return B(n,"<empty>",i);var c=e.IFC.loader.ifcManager.properties;switch(n){case"GlobalId":return B(n,N.a.decode(D(a)),i);case"Name":case"PredefinedType":if(null!=a.value)return B(n,a.value,i);break;case"OwnerHistory":return B(Object(y.jsx)(R,{name:"OwnerHistory",obj:c.getItemProperties(0,parseInt(a.value),!0)}),null,i);case"ObjectPlacement":return B(Object(y.jsx)(R,{name:"ObjectPlacement",obj:c.getItemProperties(0,parseInt(a.value),!0)}),null,i);case"RefLatitude":return B("Latitude",L(D(a[0]),D(a[1]),D(a[2])),i);case"RefLongitude":return B("Longitude",L(D(a[0]),D(a[1]),D(a[2])),i);case"Elevation":case"RefElevation":return B("Elevation",D(a),i);default:return B(n,JSON.stringify(a,"  "),i)}}(t,0,e,r,i++)}))})})},A=Object(f.a)((function(e){return{contextualMenu:{width:240,height:300,border:"none",marginLeft:"24px",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",top:152,right:20,"@media (max-width: 900px)":{height:"50%",top:140,left:62}},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"50px",width:"160px"}}})),G=function(e){var t=e.viewer,n=e.element,r=A();return Object(y.jsx)("div",{className:r.contextualMenu,style:{height:"auto",position:"absolute"},children:Object(y.jsx)(S.a,{elevation:3,className:r.paper,style:{position:"absolute",width:"auto",height:"auto",top:"0px",right:"0px",minHeight:"20%"},children:Object(y.jsx)(M,{viewer:t,element:n})})})},W=n(208),U=n(107),z=n.n(U),J=n(108),Y=n.n(J),H=(n(144),function e(t){var n=t.viewer,r=t.element,a=t.onElementSelect,c=(t.showChildren,t.keyPrefix),o=void 0===c?"":c,l=function(e){switch(e.type){case"IFCBUILDING":case"IFCPROJECT":case"IFCSITE":case"IFCSPACE":return!0;default:return!1}},s=0;return Object(y.jsx)(E.a,{nodeId:o,label:function(e){var t=n.getProperties(0,e.expressID);return null===t?"YO":(t.Name?t.Name.value:null)||function(e){switch(e.type){case"IFCBEAM":return"Beam";case"IFCBUILDING":return"Building";case"IFCBUILDINGSTOREY":return"Storey";case"IFCBUILDINGELEMENTPROXY":return"Element (generic proxy)";case"IFCCOLUMN":return"Column";case"IFCCOVERING":return"Covering";case"IFCDOOR":return"Door";case"IFCFLOWSEGMENT":return"Flow Segment";case"IFCFLOWTERMINAL":return"Flow Terminal";case"IFCPROJECT":return"Project";case"IFCRAILING":return"Railing";case"IFCROOF":return"Roof";case"IFCSITE":return"Site";case"IFCSLAB":return"Slab";case"IFCSPACE":return"Space";case"IFCWALL":return"Wall";case"IFCWALLSTANDARDCASE":return"Wall (std. case)";case"IFCWINDOW":return"Window";default:return e.type}}(e)}(r),onClick:function(){return a(r)},children:r.children&&r.children.length>0?r.children.map((function(t){var r="".concat(o,"-").concat(s++);return Object(y.jsx)(i.a.Fragment,{children:Object(y.jsx)(e,{viewer:n,element:t,onElementSelect:a,showChildren:l(t),keyPrefix:r})},r)})):null})}),V=Object(f.a)((function(e){return{contextualMenu:{width:308,border:"none",justifyContent:"space-around",alignItems:"center",overflow:"scroll",height:"70%","@media (max-width: 900px)":{height:"70%"}},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",width:"220px",backgroundColor:"lightGray"}}})),q=function(e){var t=e.viewer,n=e.element,r=e.onElementSelect,i=V();return Object(y.jsx)(S.a,{className:i.contextualMenu,style:{position:"absolute",top:144,left:20,overflow:"auto"},children:Object(y.jsx)(W.a,{"aria-label":"IFC Navigator",defaultCollapseIcon:Object(y.jsx)(z.a,{}),defaultExpandIcon:Object(y.jsx)(Y.a,{}),sx:{flexGrow:1,maxWidth:400,overflowY:"auto"},children:Object(y.jsx)(H,{viewer:t,element:n,onElementSelect:r,showChildren:!0,keyPrefix:"root"})},"tree")})},_=n(206),X=n(109),K=n.n(X),Q=n(110),Z=n.n(Q),$=Object(f.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:300},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}}));function ee(e){var t=e.onClickMenu,n=e.disabled,r=(e.open,$());return Object(y.jsxs)(S.a,{component:"form",className:r.root,children:[Object(y.jsx)(O.a,{className:r.iconButton,"aria-label":"menu",onClick:t,disabled:n,children:Object(y.jsx)(K.a,{})}),Object(y.jsx)(_.a,{className:r.input,placeholder:"Search IFC",inputProps:{"aria-label":"search google maps"}}),Object(y.jsx)(O.a,{type:"submit",className:r.iconButton,"aria-label":"search",children:Object(y.jsx)(Z.a,{})})]})}var te=n(201),ne=n(200),re=n(202),ie=n(113),ae=n.n(ie),ce=n(114),oe=n.n(ce),le=n(199),se=n(111),ue=n.n(se),de=Object(f.a)((function(e){return{button:{height:36,margin:e.spacing(1)}}})),je=function(e){var t=e.name,n=e.onClick,r=de();return Object(y.jsx)(le.a,{variant:"contained",color:"secondary",className:r.button,startIcon:Object(y.jsx)(ue.a,{}),size:"medium",onClick:n,children:t})},pe=n(204),he=n(209),be=n(112),xe=n.n(be),fe=function(){var e=i.a.useState(null),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Boolean(n),c=function(){r(null)};return Object(y.jsxs)("div",{children:[Object(y.jsx)(O.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){r(e.currentTarget)},color:"inherit",children:Object(y.jsx)(xe.a,{})}),Object(y.jsxs)(pe.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:a,onClose:c,children:[Object(y.jsx)(he.a,{onClick:c,children:"Profile"}),Object(y.jsx)(he.a,{onClick:c,children:"Logout"})]})]})},me=Object(f.a)((function(e){return{title:{flexGrow:1,color:"WhiteSmoke",fontSize:20,marginRight:"20px"}}})),Oe=function(e){var t=e.fileOpen,n=e.onClickShare,r=me();return Object(y.jsx)(ne.a,{elevation:0,position:"static",color:"primary",children:Object(y.jsxs)(te.a,{variant:"regular",style:{borderBottom:"1px solid \t#585858",backgroundColor:"#787878",display:"flex",justifyContent:"space-between"},children:[Object(y.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},children:[Object(y.jsx)(re.a,{variant:"h6",className:r.title,children:"BUILDRS"}),Object(y.jsx)(O.a,{edge:"start",color:"secondary","aria-label":"menu",style:{position:"relative"},onClick:t,children:Object(y.jsx)(ae.a,{style:{width:30,height:30,color:"whiteSmoke"}})})]}),Object(y.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},children:[Object(y.jsx)(O.a,{edge:"start",color:"secondary","aria-label":"menu",style:{position:"relative",right:10,width:25,height:25},children:Object(y.jsx)(oe.a,{style:{width:20,height:20,color:"whiteSmoke"}})}),Object(y.jsx)(je,{name:"Share",onClick:n}),Object(y.jsx)(fe,{})]})]})})},ge=Object(f.a)((function(e){return{root:Object(x.a)(Object(x.a)({},e.typography.button),{},{backgroundColor:e.palette.background.paper,padding:e.spacing(1),flexGrow:1}),menuToolbarContainer:{width:"100%",display:"flex",justifyContent:"flex-end",marginTop:"10px","@media (max-width: 900px)":{marginTop:"40px"}},elementsButton:{position:"absolute",top:80,right:20,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center","@media (max-width: 900px)":{marginTop:e.spacing(5),top:520,right:15}},title:{flexGrow:1,color:"WhiteSmoke",fontSize:20,marginRight:"20px"},shareContainer:{width:540,height:30,paddingLeft:10,color:"aqua",border:"1px solid aqua",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",position:"absolute",right:80,top:86},searchContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",position:"absolute",left:20,top:84},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"50px",width:"160px"},viewContainer:{position:"absolute",top:"0px",left:"0px",textAlign:"center",color:"blue",width:"100vw",height:"100vh",margin:"auto"},propertyViewContainer:{position:"absolute",top:"100px",right:"50px",width:"400px"}}})),ve=function(){var e=ge(),t=Object(r.useState)(!1),n=Object(b.a)(t,2),i=n[0],a=n[1],c=Object(r.useState)(!1),o=Object(b.a)(c,2),l=o[0],s=o[1],u=Object(r.useState)(!1),d=Object(b.a)(u,2),j=d[0],x=d[1],f=Object(r.useState)({}),O=Object(b.a)(f,2),g=O[0],v=O[1],w=Object(r.useState)({}),C=Object(b.a)(w,2),I=C[0],S=C[1],E=Object(r.useState)({}),F=Object(b.a)(E,2),N=F[0],D=F[1],L=function(){var e=Object(h.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(n=t.expressID)){e.next=3;break}throw new Error("Selected element is missing Express ID");case 3:try{g.pickIfcItemsByID(0,[n])}catch(i){}return e.next=6,g.getProperties(0,t.expressID);case 6:r=e.sent,D(r),s(!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){var e=document.getElementById("viewer-container"),t=new m.a({container:e});v(t),t.addAxes(),t.addGrid(),window.onmousemove=t.prepickIfcItem,window.ondblclick=t.addClippingPlane,window.onkeydown=function(e){return t.removeClippingPlane()}}),[]);var B=0===Object.keys(I).length,P=0===Object.keys(N).length;return Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{style:{zIndex:0},children:Object(y.jsx)("div",{className:e.viewContainer,id:"viewer-container"})}),Object(y.jsx)("div",{id:"property-viewer-container",className:e.propertyViewContainer}),Object(y.jsxs)("div",{index:{zIndex:100},children:[Object(y.jsx)(Oe,{fileOpen:function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.loadIfc(t.target.files[0],!0);case 2:return e.next=4,g.IFC.getSpatialStructure(0);case 4:n=e.sent,S(n),a(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=document.getElementById("viewer-container"),n=document.createElement("input");n.setAttribute("type","file"),n.classList.add("file-input"),n.addEventListener("change",(function(t){return e(t)}),!1),t.appendChild(n),n.click()},onClickShare:function(){x(!j)}}),Object(y.jsx)("div",{className:e.searchContainer,children:Object(y.jsx)(ee,{onClickMenu:function(){return a(!i)},disabled:B,open:i})}),j&&Object(y.jsx)("div",{className:e.shareContainer,children:"http://wwww.builders.com/kdjiui4kjh/dflakdjkfjlh"}),Object(y.jsx)("div",{className:e.elementsButton,children:Object(y.jsx)(k,{onClick:function(){return s(!l)},disabled:P,open:l})}),Object(y.jsxs)("div",{className:e.menuToolbarContainer,children:[Object(y.jsx)("div",{children:i?Object(y.jsx)(q,{viewer:g,element:I,onElementSelect:L}):null}),Object(y.jsx)("div",{children:l?Object(y.jsx)(G,{viewer:g,element:N}):null})]})]})]})},we=Object(s.a)({palette:{primary:{main:d.a[500],light:d.a[100]},secondary:{main:d.a[700]}}});var Ce=function(){return Object(y.jsx)(u.a,{theme:we,children:Object(y.jsx)(o.a,{children:Object(y.jsx)(l.c,{children:Object(y.jsx)(l.a,{path:"/",children:Object(y.jsx)(ve,{})})})})})},ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,211)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),a(e),c(e)}))};c.a.render(Object(y.jsx)(i.a.StrictMode,{children:Object(y.jsx)(Ce,{})}),document.getElementById("root")),ye()},93:function(e,t,n){}},[[149,1,2]]]);
//# sourceMappingURL=main.d0471f08.chunk.js.map