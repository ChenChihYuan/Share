(this.webpackJsonpbuilders=this.webpackJsonpbuilders||[]).push([[0],{101:function(e,t,n){},107:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=107},114:function(e,t,n){},117:function(e,t,n){"use strict";n.r(t);var i=n(2),r=n.n(i),a=n(12),o=n.n(a),c=(n(101),n(75),n(90)),l=n(16),s=n(11),u=n.n(s),d=n(19),p=n(24),j=n(28),h=n(150),b=n(91),x=n(152),f=n(80),m=n.n(f),O=n(81),g=n.n(O),v=n(4),w=Object(h.a)((function(e){return{menuButton:{border:"2px solid lime","@media (max-width: 1280px)":{border:"2px solid lime"}},menuButtonDisabled:{"@media (max-width: 1280px)":{}}}})),y=function(e){var t=e.onClick,n=e.disabled,i=e.open,r=w();return Object(v.jsx)(x.a,{edge:"start",className:n?r.menuButtonDisabled:r.menuButton,color:"secondary","aria-label":"menu",onClick:t,disabled:n,children:i?Object(v.jsx)(m.a,{style:{width:30,height:30}}):Object(v.jsx)(g.a,{style:{width:30,height:30}})})},C=n(120),I=n(61),k=n(82),S=n.n(k),D=function(e){if(null!=e)return e.value;throw new Error("Ref undefined or null: ",e)},E=function(e,t,n){return"".concat(e,"\xb0 ").concat(t,"' ").concat(n,"''")},N=function(e,t,n){return null!==t?Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e}),Object(v.jsx)("td",{children:t})]},n):Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:"2",children:e})},n)},F=function(e){return null!=e.type&&null!=e.value},L=function(e){return"".concat(e.value)},B=function e(t){var n=t.name,i=t.obj,r=0;if(void 0===i||null===i)return null;var a="object"===typeof i;return Object(v.jsx)(I.a,{content:"".concat(a?n:i),open:!1,children:a?F(i)?L(i):Object.keys(i).map((function(t){return Object(v.jsx)(e,{name:t,obj:i[t]},r++)})):null})},T=function(e){var t=e.viewer,n=e.element,i=t.getProperties(0,n.expressID),r=0;return Object(v.jsx)("table",{children:Object(v.jsx)("tbody",{children:Object.keys(i).map((function(e){return function(e,t,n,i,r){var a=i[n];if(null===a||void 0===a)return N(n,"<empty>",r);var o=e.IFC.loader.ifcManager.properties;switch(n){case"GlobalId":return N(n,S.a.decode(D(a)),r);case"Name":case"PredefinedType":if(null!=a.value)return N(n,a.value,r);break;case"OwnerHistory":return N(Object(v.jsx)(B,{name:"OwnerHistory",obj:o.getItemProperties(0,parseInt(a.value),!0)}),null,r);case"ObjectPlacement":return N(Object(v.jsx)(B,{name:"ObjectPlacement",obj:o.getItemProperties(0,parseInt(a.value),!0)}),null,r);case"RefLatitude":return N("Latitude",E(D(a[0]),D(a[1]),D(a[2])),r);case"RefLongitude":return N("Longitude",E(D(a[0]),D(a[1]),D(a[2])),r);case"Elevation":case"RefElevation":return N("Elevation",D(a),r);default:return N(n,JSON.stringify(a,"  "),r)}}(t,0,e,i,r++)}))})})},P=Object(h.a)((function(e){return{contextualMenu:{width:240,height:300,border:"none",marginLeft:"24px",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",top:152,right:20,"@media (max-width: 900px)":{height:"50%",top:140,left:62}},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"50px",width:"160px"}}})),R=function(e){var t=e.viewer,n=e.element,i=P();return Object(v.jsx)("div",{className:i.contextualMenu,style:{height:"auto",position:"absolute"},children:Object(v.jsx)(C.a,{elevation:3,className:i.paper,style:{position:"absolute",width:"auto",height:"auto",top:"0px",right:"0px",minHeight:"20%"},children:Object(v.jsx)(T,{viewer:t,element:n})})})},A=(n(114),function e(t){var n=t.viewer,r=t.element,a=t.onElementSelect,o=t.showChildren,c=t.parentOpen,l=void 0!==c&&c;if(void 0===o)throw new Error;var s=Object(i.useState)(o),u=Object(p.a)(s,2),d=u[0],j=u[1],h=function(e){a(r)},b=function(e){switch(e.type){case"IFCBUILDING":case"IFCPROJECT":case"IFCSITE":case"IFCSPACE":return!0;default:return!1}},x=0;return Object(v.jsx)(I.a,{content:function(e){var t=n.getProperties(0,e.expressID);return null===t?"":(t.Name?t.Name.value:null)||function(e){switch(e.type){case"IFCBUILDING":return"Building";case"IFCBUILDINGSTOREY":return"Storey";case"IFCDOOR":return"Door";case"IFCFLOWTERMINAL":return"Flow Terminal";case"IFCPROJECT":return"Project";case"IFCROOF":return"Roof";case"IFCSITE":return"Site";case"IFCSLAB":return"Slab";case"IFCSPACE":return"Space";case"IFCWALL":return"Wall";case"IFCWALLSTANDARDCASE":return"Wall (std. case)";case"IFCWINDOW":return"Window";default:return e.type}}(e)}(r),open:d,onItemToggle:function(){console.log("#onItemToggle: calling setOpen(true)"),j(!0)},style:function(e){return"IFCPROJECT"===e.type?{position:"absolute",top:10,left:10}:{}}(r),type:function(e){return Object(v.jsx)("button",{onClick:h,"express-id":e.expressID,children:"\ud83d\udd0d"})}(r),children:l&&r.children&&r.children.length>0?r.children.map((function(t){return Object(v.jsx)(e,{viewer:n,element:t,onElementSelect:a,showChildren:b(t),parentOpen:d},x++)})):null})}),M=Object(h.a)((function(e){return{contextualMenu:{width:308,border:"none",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",overflow:"scroll",marginLeft:"-5px",height:"70%","@media (max-width: 900px)":{height:"50%"}},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",width:"220px",backgroundColor:"lightGray"}}})),W=function(e){var t=e.viewer,n=e.element,i=e.onElementSelect,r=M();return Object(v.jsx)(C.a,{className:r.contextualMenu,style:{position:"absolute",top:144,left:24,overflow:"auto",display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:Object(v.jsx)(A,{viewer:t,element:n,onElementSelect:i,showChildren:!0,parentOpen:!0})})},G=n(160),z=n(84),J=n.n(z),U=n(85),H=n.n(U),q=Object(h.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:300},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}}));function V(e){var t=e.onClickMenu,n=e.disabled,i=(e.open,q());return Object(v.jsxs)(C.a,{component:"form",className:i.root,children:[Object(v.jsx)(x.a,{className:i.iconButton,"aria-label":"menu",onClick:t,disabled:n,children:Object(v.jsx)(J.a,{})}),Object(v.jsx)(G.a,{className:i.input,placeholder:"Search IFC",inputProps:{"aria-label":"search google maps"}}),Object(v.jsx)(x.a,{type:"submit",className:i.iconButton,"aria-label":"search",children:Object(v.jsx)(H.a,{})})]})}var _=n(156),Y=n(155),K=n(157),Q=n(88),X=n.n(Q),Z=n(89),$=n.n(Z),ee=n(154),te=n(86),ne=n.n(te),ie=Object(h.a)((function(e){return{button:{height:36,margin:e.spacing(1)}}})),re=function(e){var t=e.name,n=e.onClick,i=ie();return Object(v.jsx)(ee.a,{variant:"contained",color:"secondary",className:i.button,startIcon:Object(v.jsx)(ne.a,{}),size:"medium",onClick:n,children:t})},ae=n(159),oe=n(161),ce=n(87),le=n.n(ce),se=function(){var e=r.a.useState(null),t=Object(p.a)(e,2),n=t[0],i=t[1],a=Boolean(n),o=function(){i(null)};return Object(v.jsxs)("div",{children:[Object(v.jsx)(x.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},color:"inherit",children:Object(v.jsx)(le.a,{})}),Object(v.jsxs)(ae.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:a,onClose:o,children:[Object(v.jsx)(oe.a,{onClick:o,children:"Profile"}),Object(v.jsx)(oe.a,{onClick:o,children:"Logout"})]})]})},ue=Object(h.a)((function(e){return{title:{flexGrow:1,color:"WhiteSmoke",fontSize:20,marginRight:"20px"}}})),de=function(e){var t=e.fileOpen,n=e.onClickShare,i=ue();return Object(v.jsx)(Y.a,{elevation:0,position:"static",color:"primary",children:Object(v.jsxs)(_.a,{variant:"regular",style:{borderBottom:"1px solid \t#585858",backgroundColor:"#787878",display:"flex",justifyContent:"space-between"},children:[Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},children:[Object(v.jsx)(K.a,{variant:"h6",className:i.title,children:"BUILDRS"}),Object(v.jsx)(x.a,{edge:"start",color:"secondary","aria-label":"menu",style:{position:"relative"},onClick:t,children:Object(v.jsx)(X.a,{style:{width:30,height:30,color:"whiteSmoke"}})})]}),Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},children:[Object(v.jsx)(x.a,{edge:"start",color:"secondary","aria-label":"menu",style:{position:"relative",right:10,width:25,height:25},children:Object(v.jsx)($.a,{style:{width:20,height:20,color:"whiteSmoke"}})}),Object(v.jsx)(re,{name:"Share",onClick:n}),Object(v.jsx)(se,{})]})]})})},pe=Object(h.a)((function(e){return{root:Object(j.a)(Object(j.a)({},e.typography.button),{},{backgroundColor:e.palette.background.paper,padding:e.spacing(1),flexGrow:1}),menuToolbarContainer:{width:"100%",display:"flex",justifyContent:"flex-end",marginTop:"10px","@media (max-width: 900px)":{marginTop:"40px"}},elementsButton:{position:"absolute",top:80,right:20,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center","@media (max-width: 900px)":{marginTop:e.spacing(5),top:520,right:15}},title:{flexGrow:1,color:"WhiteSmoke",fontSize:20,marginRight:"20px"},shareContainer:{width:540,height:30,paddingLeft:10,color:"aqua",border:"1px solid aqua",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",position:"absolute",right:80,top:86},searchContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",position:"absolute",left:20,top:84},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"50px",width:"160px"},viewContainer:{position:"absolute",top:"0px",left:"0px",textAlign:"center",color:"blue",width:"100vw",height:"100vh",margin:"auto"},propertyViewContainer:{position:"absolute",top:"100px",right:"50px",width:"400px"}}})),je=function(){var e=pe(),t=Object(i.useState)(!1),n=Object(p.a)(t,2),r=n[0],a=n[1],o=Object(i.useState)(!1),c=Object(p.a)(o,2),l=c[0],s=c[1],j=Object(i.useState)(!1),h=Object(p.a)(j,2),x=h[0],f=h[1],m=Object(i.useState)({}),O=Object(p.a)(m,2),g=O[0],w=O[1],C=Object(i.useState)({}),I=Object(p.a)(C,2),k=I[0],S=I[1],D=Object(i.useState)({}),E=Object(p.a)(D,2),N=E[0],F=E[1];Object(i.useEffect)((function(){var e=document.getElementById("viewer-container"),t=new b.a({container:e});w(t),t.addAxes(),t.addGrid(),window.onmousemove=t.prepickIfcItem,window.ondblclick=t.addClippingPlane,window.onkeydown=function(e){t.removeClippingPlane()}}),[]);var L=0===Object.keys(k).length,B=0===Object.keys(N).length;return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{style:{zIndex:0},children:Object(v.jsx)("div",{className:e.viewContainer,id:"viewer-container"})}),Object(v.jsx)("div",{id:"property-viewer-container",className:e.propertyViewContainer}),Object(v.jsxs)("div",{index:{zIndex:100},children:[Object(v.jsx)(de,{fileOpen:function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.loadIfc(t.target.files[0],!0);case 2:S(g.getSpatialStructure(0)),a(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=document.getElementById("viewer-container"),n=document.createElement("input");n.setAttribute("type","file"),n.classList.add("file-input"),n.addEventListener("change",(function(t){e(t)}),!1),t.appendChild(n),n.click()},onClickShare:function(){f(!x)}}),Object(v.jsx)("div",{className:e.searchContainer,children:Object(v.jsx)(V,{onClickMenu:function(){return a(!r)},disabled:L,open:r})}),x&&Object(v.jsx)("div",{className:e.shareContainer,children:"http://wwww.builders.com/kdjiui4kjh/dflakdjkfjlh"}),Object(v.jsx)("div",{className:e.elementsButton,children:Object(v.jsx)(y,{onClick:function(){return s(!l)},disabled:B,open:l})}),Object(v.jsxs)("div",{className:e.menuToolbarContainer,children:[Object(v.jsx)("div",{children:r?Object(v.jsx)(W,{viewer:g,element:k,onElementSelect:function(e){var t=e.expressID;if(void 0===t)throw new Error("Selected element is missing Express ID");try{g.pickIfcItemsByID(0,[t])}catch(n){console.log("TODO: no visual element for item: ",e)}F(e),s(!0)}}):null}),Object(v.jsx)("div",{children:l?Object(v.jsx)(R,{viewer:g,element:N}):null})]})]})]})},he=n(92),be=n(158),xe=n(63),fe=Object(he.a)({palette:{primary:{main:xe.a[500],light:xe.a[100]},secondary:{main:xe.a[700]}}});var me=function(){return Object(v.jsx)(be.a,{theme:fe,children:Object(v.jsx)(c.a,{children:Object(v.jsx)(l.c,{children:Object(v.jsx)(l.a,{path:"/",children:Object(v.jsx)(je,{})})})})})},Oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,162)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),r(e),a(e),o(e)}))};o.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(me,{})}),document.getElementById("root")),Oe()},75:function(e,t,n){}},[[117,1,2]]]);
//# sourceMappingURL=main.0b7b37e7.chunk.js.map