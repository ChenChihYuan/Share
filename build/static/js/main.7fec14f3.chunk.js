(this.webpackJsonpbuilders=this.webpackJsonpbuilders||[]).push([[0],{133:function(e,t,n){},139:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=139},148:function(e,t,n){},153:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),i=n(16),c=n.n(i),o=(n(133),n(95),n(120)),l=n(20),s=n(119),u=n(207),d=n(76),j=n(4),p=n.n(j),b=n(6),x=n(14),h=n(21),f=n(196),m=n(118),O=n(198),g=n(105),v=n.n(g),w=n(106),C=n.n(w),y=n(5),I=Object(f.a)((function(e){return{menuButton:{border:"2px solid lime","@media (max-width: 1280px)":{border:"2px solid lime"}},menuButtonDisabled:{"@media (max-width: 1280px)":{}}}})),k=function(e){var t=e.onClick,n=e.disabled,r=e.open,a=I();return Object(y.jsx)(O.a,{edge:"start",className:n?a.menuButtonDisabled:a.menuButton,color:"secondary","aria-label":"menu",onClick:t,disabled:n,children:r?Object(y.jsx)(v.a,{style:{width:30,height:30}}):Object(y.jsx)(C.a,{style:{width:30,height:30}})})},S=n(157),E=n(209),N=n(107),F=n.n(N),D=function(e){if(null!=e)return e.value;throw new Error("Ref undefined or null: ",e)},L=function(e,t,n){return"".concat(e,"\xb0 ").concat(t,"' ").concat(n,"''")},B=function(e,t,n){return null!==t?Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e}),Object(y.jsx)("td",{children:t})]},n):Object(y.jsx)("tr",{children:Object(y.jsx)("td",{colSpan:"2",children:e})},n)},P=function(e){return null!=e.type&&null!=e.value},R=function(e){return"".concat(e.value)},T=function e(t){var n=t.name,r=t.obj,a=0;if(void 0===r||null===r)return null;var i="object"===typeof r;return Object(y.jsx)(E.a,{nodeId:""+a,label:"".concat(i?n:r),children:i?P(r)?R(r):Object.keys(r).map((function(t){return Object(y.jsx)(e,{name:t,obj:r[t]},a++)})):null})},M=function(e){var t=e.viewer,n=e.element,r=n,a=0;return Object(y.jsx)("table",{children:Object(y.jsx)("tbody",{children:Object.keys(r).map((function(e){return function(e,t,n,r,a){var i=r[n];if(null===i||void 0===i)return B(n,"<empty>",a);var c=e.IFC.loader.ifcManager.properties;switch(n){case"GlobalId":return B(n,F.a.decode(D(i)),a);case"Name":case"PredefinedType":if(null!=i.value)return B(n,i.value,a);break;case"OwnerHistory":return B(Object(y.jsx)(T,{name:"OwnerHistory",obj:c.getItemProperties(0,parseInt(i.value),!0)}),null,a);case"ObjectPlacement":return B(Object(y.jsx)(T,{name:"ObjectPlacement",obj:c.getItemProperties(0,parseInt(i.value),!0)}),null,a);case"RefLatitude":return B("Latitude",L(D(i[0]),D(i[1]),D(i[2])),a);case"RefLongitude":return B("Longitude",L(D(i[0]),D(i[1]),D(i[2])),a);case"Elevation":case"RefElevation":return B("Elevation",D(i),a);default:return B(n,JSON.stringify(i,"  "),a)}}(t,0,e,r,a++)}))})})},A=Object(f.a)((function(e){return{contextualMenu:{width:240,height:300,border:"none",marginLeft:"24px",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",top:152,right:20,"@media (max-width: 900px)":{height:"50%",top:140,left:62}},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"50px",width:"160px"}}})),G=function(e){var t=e.viewer,n=e.element,r=A();return Object(y.jsx)("div",{className:r.contextualMenu,style:{height:"auto",position:"absolute"},children:Object(y.jsx)(S.a,{elevation:3,className:r.paper,style:{position:"absolute",width:"auto",height:"auto",top:"0px",right:"0px",minHeight:"20%"},children:Object(y.jsx)(M,{viewer:t,element:n})})})},W=n(213),z=n(110),U=n.n(z),J=n(111),H=n.n(J),V=n(8),Y=(n(148),n(108)),q=n(10),_=n(212),X=function e(t){var n=t.viewer,r=t.element,i=t.onElementSelect,c=t.keyPrefix,o=void 0===c?"":c,l=a.a.useState(""),s=Object(x.a)(l,2),u=s[0],d=s[1];a.a.useEffect((function(){var e=!0;return n.getProperties(0,r.expressID).then((function(t){if(e){if(null===t)return"model not loaded";d((t.Name?t.Name.value:null)||function(e){switch(e.type){case"IFCBEAM":return"Beam";case"IFCBUILDING":return"Building";case"IFCBUILDINGSTOREY":return"Storey";case"IFCBUILDINGELEMENTPROXY":return"Element (generic proxy)";case"IFCCOLUMN":return"Column";case"IFCCOVERING":return"Covering";case"IFCDOOR":return"Door";case"IFCFLOWSEGMENT":return"Flow Segment";case"IFCFLOWTERMINAL":return"Flow Terminal";case"IFCPROJECT":return"Project";case"IFCRAILING":return"Railing";case"IFCROOF":return"Roof";case"IFCSITE":return"Site";case"IFCSLAB":return"Slab";case"IFCSPACE":return"Space";case"IFCWALL":return"Wall";case"IFCWALLSTANDARDCASE":return"Wall (std. case)";case"IFCWINDOW":return"Window";default:return e.type}}(r))}})),function(){e=!1}}),[n,r,u]);var j=a.a.forwardRef((function(e,t){var n,a=e.classes,c=e.className,o=e.label,l=e.nodeId,s=e.icon,u=e.expansionIcon,d=e.displayIcon,j=Object(Y.a)(l),p=j.disabled,b=j.expanded,x=j.selected,h=j.focused,f=j.handleExpansion,m=j.handleSelection,O=j.preventSelection,g=s||u||d;return Object(y.jsxs)("div",{className:Object(q.a)(c,a.root,(n={},Object(V.a)(n,a.expanded,b),Object(V.a)(n,a.selected,x),Object(V.a)(n,a.focused,h),Object(V.a)(n,a.disabled,p),n)),onMouseDown:function(e){O(e)},ref:t,children:[Object(y.jsx)("div",{onClick:function(e){f(e)},className:a.iconContainer,children:g}),Object(y.jsx)(_.a,{onClick:function(e){m(e),i(r)},component:"div",className:a.label,children:o})]})})),p=function(e){return Object(y.jsx)(E.a,Object(h.a)({ContentComponent:j},e))},b=0;return Object(y.jsx)(p,{nodeId:o,label:u,onClick:function(){return i(r)},children:r.children&&r.children.length>0?r.children.map((function(t){var r="".concat(o,"-").concat(b++);return Object(y.jsx)(a.a.Fragment,{children:Object(y.jsx)(e,{viewer:n,element:t,onElementSelect:i,keyPrefix:r})},r)})):null})},K=Object(f.a)((function(e){return{contextualMenu:{width:308,border:"none",justifyContent:"space-around",alignItems:"center",overflow:"scroll",height:"70%","@media (max-width: 900px)":{height:"70%"}},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",width:"220px",backgroundColor:"lightGray"}}})),Q=function(e){var t=e.viewer,n=e.element,r=e.onElementSelect,a=K();return Object(y.jsx)(S.a,{className:a.contextualMenu,style:{position:"absolute",top:144,left:20,overflow:"auto"},children:Object(y.jsx)(W.a,{"aria-label":"IFC Navigator",defaultCollapseIcon:Object(y.jsx)(U.a,{}),defaultExpandIcon:Object(y.jsx)(H.a,{}),sx:{flexGrow:1,maxWidth:400,overflowY:"auto"},defaultExpanded:["root","root-0","root-0-0"],children:Object(y.jsx)(X,{viewer:t,element:n,onElementSelect:r,keyPrefix:"root"})},"tree")})},Z=n(210),$=n(112),ee=n.n($),te=n(113),ne=n.n(te),re=Object(f.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:300},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}}));function ae(e){var t=e.onClickMenu,n=e.disabled,r=(e.open,re());return Object(y.jsxs)(S.a,{component:"form",className:r.root,children:[Object(y.jsx)(O.a,{className:r.iconButton,"aria-label":"menu",onClick:t,disabled:n,children:Object(y.jsx)(ee.a,{})}),Object(y.jsx)(Z.a,{className:r.input,placeholder:"Search IFC",inputProps:{"aria-label":"search google maps"}}),Object(y.jsx)(O.a,{type:"submit",className:r.iconButton,"aria-label":"search",children:Object(y.jsx)(ne.a,{})})]})}var ie=n(205),ce=n(204),oe=n(206),le=n(116),se=n.n(le),ue=n(117),de=n.n(ue),je=n(203),pe=n(114),be=n.n(pe),xe=Object(f.a)((function(e){return{button:{height:36,margin:e.spacing(1)}}})),he=function(e){var t=e.name,n=e.onClick,r=xe();return Object(y.jsx)(je.a,{variant:"contained",color:"secondary",className:r.button,startIcon:Object(y.jsx)(be.a,{}),size:"medium",onClick:n,children:t})},fe=n(208),me=n(214),Oe=n(115),ge=n.n(Oe),ve=function(){var e=a.a.useState(null),t=Object(x.a)(e,2),n=t[0],r=t[1],i=Boolean(n),c=function(){r(null)};return Object(y.jsxs)("div",{children:[Object(y.jsx)(O.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){r(e.currentTarget)},color:"inherit",children:Object(y.jsx)(ge.a,{})}),Object(y.jsxs)(fe.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:c,children:[Object(y.jsx)(me.a,{onClick:c,children:"Profile"}),Object(y.jsx)(me.a,{onClick:c,children:"Logout"})]})]})},we=Object(f.a)((function(e){return{title:{flexGrow:1,color:"WhiteSmoke",fontSize:20,marginRight:"20px"}}})),Ce=function(e){var t=e.fileOpen,n=e.onClickShare,r=we();return Object(y.jsx)(ce.a,{elevation:0,position:"static",color:"primary",children:Object(y.jsxs)(ie.a,{variant:"regular",style:{borderBottom:"1px solid \t#585858",backgroundColor:"#787878",display:"flex",justifyContent:"space-between"},children:[Object(y.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},children:[Object(y.jsx)(oe.a,{variant:"h6",className:r.title,children:"BUILDRS"}),Object(y.jsx)(O.a,{edge:"start",color:"secondary","aria-label":"menu",style:{position:"relative"},onClick:t,children:Object(y.jsx)(se.a,{style:{width:30,height:30,color:"whiteSmoke"}})})]}),Object(y.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},children:[Object(y.jsx)(O.a,{edge:"start",color:"secondary","aria-label":"menu",style:{position:"relative",right:10,width:25,height:25},children:Object(y.jsx)(de.a,{style:{width:20,height:20,color:"whiteSmoke"}})}),Object(y.jsx)(he,{name:"Share",onClick:n}),Object(y.jsx)(ve,{})]})]})})},ye=Object(f.a)((function(e){return{root:Object(h.a)(Object(h.a)({},e.typography.button),{},{backgroundColor:e.palette.background.paper,padding:e.spacing(1),flexGrow:1}),menuToolbarContainer:{width:"100%",display:"flex",justifyContent:"flex-end",marginTop:"10px","@media (max-width: 900px)":{marginTop:"40px"}},elementsButton:{position:"absolute",top:80,right:20,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center","@media (max-width: 900px)":{marginTop:e.spacing(5),top:520,right:15}},title:{flexGrow:1,color:"WhiteSmoke",fontSize:20,marginRight:"20px"},shareContainer:{width:540,height:30,paddingLeft:10,color:"aqua",border:"1px solid aqua",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",position:"absolute",right:80,top:86},searchContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",position:"absolute",left:20,top:84},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"50px",width:"160px"},viewContainer:{position:"absolute",top:"0px",left:"0px",textAlign:"center",color:"blue",width:"100vw",height:"100vh",margin:"auto"},propertyViewContainer:{position:"absolute",top:"100px",right:"50px",width:"400px"}}})),Ie=function(){var e=ye(),t=Object(r.useState)(!1),n=Object(x.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)(!1),o=Object(x.a)(c,2),l=o[0],s=o[1],u=Object(r.useState)(!1),d=Object(x.a)(u,2),j=d[0],h=d[1],f=Object(r.useState)({}),O=Object(x.a)(f,2),g=O[0],v=O[1],w=Object(r.useState)({}),C=Object(x.a)(w,2),I=C[0],S=C[1],E=Object(r.useState)({}),N=Object(x.a)(E,2),F=N[0],D=N[1],L=function(){var e=Object(b.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(n=t.expressID)){e.next=3;break}throw new Error("Selected element is missing Express ID");case 3:try{g.pickIfcItemsByID(0,[n])}catch(a){}return e.next=6,g.getProperties(0,t.expressID);case 6:r=e.sent,D(r),s(!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){var e=document.getElementById("viewer-container"),t=new m.a({container:e});v(t),t.addAxes(),t.addGrid(),window.onmousemove=t.prepickIfcItem,window.ondblclick=t.addClippingPlane,window.onkeydown=function(e){return t.removeClippingPlane()}}),[]);var B=0===Object.keys(I).length,P=0===Object.keys(F).length;return Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{style:{zIndex:0},children:Object(y.jsx)("div",{className:e.viewContainer,id:"viewer-container"})}),Object(y.jsx)("div",{id:"property-viewer-container",className:e.propertyViewContainer}),Object(y.jsxs)("div",{index:{zIndex:100},children:[Object(y.jsx)(Ce,{fileOpen:function(){var e=function(){var e=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.loadIfc(t.target.files[0],!0);case 2:return e.next=4,g.IFC.getSpatialStructure(0);case 4:n=e.sent,S(n),i(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=document.getElementById("viewer-container"),n=document.createElement("input");n.setAttribute("type","file"),n.classList.add("file-input"),n.addEventListener("change",(function(t){return e(t)}),!1),t.appendChild(n),n.click()},onClickShare:function(){h(!j)}}),Object(y.jsx)("div",{className:e.searchContainer,children:Object(y.jsx)(ae,{onClickMenu:function(){return i(!a)},disabled:B,open:a})}),j&&Object(y.jsx)("div",{className:e.shareContainer,children:"http://wwww.builders.com/kdjiui4kjh/dflakdjkfjlh"}),Object(y.jsx)("div",{className:e.elementsButton,children:Object(y.jsx)(k,{onClick:function(){return s(!l)},disabled:P,open:l})}),Object(y.jsxs)("div",{className:e.menuToolbarContainer,children:[Object(y.jsx)("div",{children:a?Object(y.jsx)(Q,{viewer:g,element:I,onElementSelect:L}):null}),Object(y.jsx)("div",{children:l?Object(y.jsx)(G,{viewer:g,element:F}):null})]})]})]})},ke=Object(s.a)({palette:{primary:{main:d.a[500],light:d.a[100]},secondary:{main:d.a[700]}}});var Se=function(){return Object(y.jsx)(u.a,{theme:ke,children:Object(y.jsx)(o.a,{children:Object(y.jsx)(l.c,{children:Object(y.jsx)(l.a,{path:"/",children:Object(y.jsx)(Ie,{})})})})})},Ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,216)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};c.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(Se,{})}),document.getElementById("root")),Ee()},95:function(e,t,n){}},[[153,1,2]]]);
//# sourceMappingURL=main.7fec14f3.chunk.js.map