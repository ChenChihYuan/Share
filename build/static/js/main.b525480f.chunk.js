(this.webpackJsonpbuilders=this.webpackJsonpbuilders||[]).push([[0],{133:function(e,t,n){},139:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=139},148:function(e,t,n){},153:function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r),a=n(17),c=n.n(a),o=(n(133),n(95),n(120)),l=n(21),s=n(119),u=n(207),d=n(76),j=n(4),p=n.n(j),b=n(6),x=n(15),h=n(22),f=n(196),m=n(118),O=n(198),g=n(105),v=n.n(g),w=n(106),C=n.n(w),y=n(5),I=Object(f.a)((function(e){return{menuButton:{border:"2px solid lime","@media (max-width: 1280px)":{border:"2px solid lime"}},menuButtonDisabled:{"@media (max-width: 1280px)":{}}}})),k=function(e){var t=e.onClick,n=e.disabled,r=e.open,i=I();return Object(y.jsx)(O.a,{edge:"start",className:n?i.menuButtonDisabled:i.menuButton,color:"secondary","aria-label":"menu",onClick:t,disabled:n,children:r?Object(y.jsx)(v.a,{style:{width:30,height:30}}):Object(y.jsx)(C.a,{style:{width:30,height:30}})})},S=n(157),N=n(209),E=n(107),F=n.n(E),D=function(e){if(null!=e)return e.value;throw new Error("Ref undefined or null: ",e)},L=function(e,t,n){return"".concat(e,"\xb0 ").concat(t,"' ").concat(n,"''")},B=function(e,t,n){return null!==t?Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e}),Object(y.jsx)("td",{children:t})]},n):Object(y.jsx)("tr",{children:Object(y.jsx)("td",{colSpan:"2",children:e})},n)},P=function(e){return null!=e.type&&null!=e.value},R=function(e){return"".concat(e.value)},T=function e(t){var n=t.name,r=t.obj,i=0;if(void 0===r||null===r)return null;var a="object"===typeof r;return Object(y.jsx)(N.a,{nodeId:""+i,label:"".concat(a?n:r),children:a?P(r)?R(r):Object.keys(r).map((function(t){return Object(y.jsx)(e,{name:t,obj:r[t]},i++)})):null})},M=function(e){var t=e.viewer,n=e.element,r=n,i=0;return Object(y.jsx)("table",{children:Object(y.jsx)("tbody",{children:Object.keys(r).map((function(e){return function(e,t,n,r,i){var a=r[n];if(null===a||void 0===a)return B(n,"<empty>",i);var c=e.IFC.loader.ifcManager.properties;switch(n){case"GlobalId":return B(n,F.a.decode(D(a)),i);case"Name":case"PredefinedType":if(null!=a.value)return B(n,a.value,i);break;case"OwnerHistory":return B(Object(y.jsx)(T,{name:"OwnerHistory",obj:c.getItemProperties(0,parseInt(a.value),!0)}),null,i);case"ObjectPlacement":return B(Object(y.jsx)(T,{name:"ObjectPlacement",obj:c.getItemProperties(0,parseInt(a.value),!0)}),null,i);case"RefLatitude":return B("Latitude",L(D(a[0]),D(a[1]),D(a[2])),i);case"RefLongitude":return B("Longitude",L(D(a[0]),D(a[1]),D(a[2])),i);case"Elevation":case"RefElevation":return B("Elevation",D(a),i);default:return B(n,JSON.stringify(a,"  "),i)}}(t,0,e,r,i++)}))})})},A=Object(f.a)((function(e){return{contextualMenu:{width:240,height:300,border:"none",marginLeft:"24px",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",top:152,right:20,"@media (max-width: 900px)":{height:"50%",top:140,left:62}},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"50px",width:"160px"}}})),G=function(e){var t=e.viewer,n=e.element,r=A();return Object(y.jsx)("div",{className:r.contextualMenu,style:{height:"auto",position:"absolute"},children:Object(y.jsx)(S.a,{elevation:3,className:r.paper,style:{position:"absolute",width:"auto",height:"auto",top:"0px",right:"0px",minHeight:"20%"},children:Object(y.jsx)(M,{viewer:t,element:n})})})},W=n(213),z=n(110),U=n.n(z),J=n(111),H=n.n(J),V=n(7),Y=(n(148),n(108)),q=n(10),_=n(212),X=function(e){switch(e.type){case"IFCBEAM":return"Beam";case"IFCBUILDING":return"Building";case"IFCBUILDINGSTOREY":return"Storey";case"IFCBUILDINGELEMENTPROXY":return"Element (generic proxy)";case"IFCCOLUMN":return"Column";case"IFCCOVERING":return"Covering";case"IFCDOOR":return"Door";case"IFCFLOWSEGMENT":return"Flow Segment";case"IFCFLOWTERMINAL":return"Flow Terminal";case"IFCPROJECT":return"Project";case"IFCRAILING":return"Railing";case"IFCROOF":return"Roof";case"IFCSITE":return"Site";case"IFCSLAB":return"Slab";case"IFCSPACE":return"Space";case"IFCWALL":return"Wall";case"IFCWALLSTANDARDCASE":return"Wall (std. case)";case"IFCWINDOW":return"Window";default:return e.type}},K=function e(t){var n=t.viewer,r=t.element,a=t.onElementSelect,c=t.keyPrefix,o=void 0===c?"":c,l=i.a.forwardRef((function(e,t){var n,i=e.classes,c=e.className,o=e.label,l=e.nodeId,s=e.icon,u=e.expansionIcon,d=e.displayIcon,j=Object(Y.a)(l),p=j.disabled,b=j.expanded,x=j.selected,h=j.focused,f=j.handleExpansion,m=j.handleSelection,O=j.preventSelection,g=s||u||d;return Object(y.jsxs)("div",{className:Object(q.a)(c,i.root,(n={},Object(V.a)(n,i.expanded,b),Object(V.a)(n,i.selected,x),Object(V.a)(n,i.focused,h),Object(V.a)(n,i.disabled,p),n)),onMouseDown:function(e){O(e)},ref:t,children:[Object(y.jsx)("div",{onClick:function(e){f(e)},className:i.iconContainer,children:g}),Object(y.jsx)(_.a,{onClick:function(e){m(e),a(r)},component:"div",className:i.label,children:o})]})})),s=function(e){return Object(y.jsx)(N.a,Object(h.a)({ContentComponent:l},e))},u=0;return Object(y.jsx)(s,{nodeId:o,label:r.Name?r.Name.value:X(r),onClick:function(){return a(r)},children:r.children&&r.children.length>0?r.children.map((function(t){var r="".concat(o,"-").concat(u++);return Object(y.jsx)(i.a.Fragment,{children:Object(y.jsx)(e,{viewer:n,element:t,onElementSelect:a,keyPrefix:r})},r)})):null})},Q=Object(f.a)((function(e){return{contextualMenu:{width:308,border:"none",justifyContent:"space-around",alignItems:"center",overflow:"scroll",height:"70%","@media (max-width: 900px)":{height:"70%"}},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",width:"220px",backgroundColor:"lightGray"}}})),Z=function(e){var t=e.viewer,n=e.element,r=e.onElementSelect,i=Q();return Object(y.jsx)(S.a,{className:i.contextualMenu,style:{position:"absolute",top:144,left:20,overflow:"auto"},children:Object(y.jsx)(W.a,{"aria-label":"IFC Navigator",defaultCollapseIcon:Object(y.jsx)(U.a,{}),defaultExpandIcon:Object(y.jsx)(H.a,{}),sx:{flexGrow:1,maxWidth:400,overflowY:"auto"},defaultExpanded:["root","root-0","root-0-0"],children:Object(y.jsx)(K,{viewer:t,element:n,onElementSelect:r,keyPrefix:"root"})},"tree")})},$=n(210),ee=n(112),te=n.n(ee),ne=n(113),re=n.n(ne),ie=Object(f.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:300},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}}));function ae(e){var t=e.onClickMenu,n=e.disabled,r=(e.open,ie());return Object(y.jsxs)(S.a,{component:"form",className:r.root,children:[Object(y.jsx)(O.a,{className:r.iconButton,"aria-label":"menu",onClick:t,disabled:n,children:Object(y.jsx)(te.a,{})}),Object(y.jsx)($.a,{className:r.input,placeholder:"Search IFC",inputProps:{"aria-label":"search google maps"}}),Object(y.jsx)(O.a,{type:"submit",className:r.iconButton,"aria-label":"search",children:Object(y.jsx)(re.a,{})})]})}var ce=n(205),oe=n(204),le=n(206),se=n(116),ue=n.n(se),de=n(117),je=n.n(de),pe=n(203),be=n(114),xe=n.n(be),he=Object(f.a)((function(e){return{button:{height:36,margin:e.spacing(1)}}})),fe=function(e){var t=e.name,n=e.onClick,r=he();return Object(y.jsx)(pe.a,{variant:"contained",color:"secondary",className:r.button,startIcon:Object(y.jsx)(xe.a,{}),size:"medium",onClick:n,children:t})},me=n(208),Oe=n(214),ge=n(115),ve=n.n(ge),we=function(){var e=i.a.useState(null),t=Object(x.a)(e,2),n=t[0],r=t[1],a=Boolean(n),c=function(){r(null)};return Object(y.jsxs)("div",{children:[Object(y.jsx)(O.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){r(e.currentTarget)},color:"inherit",children:Object(y.jsx)(ve.a,{})}),Object(y.jsxs)(me.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:a,onClose:c,children:[Object(y.jsx)(Oe.a,{onClick:c,children:"Profile"}),Object(y.jsx)(Oe.a,{onClick:c,children:"Logout"})]})]})},Ce=Object(f.a)((function(e){return{title:{flexGrow:1,color:"WhiteSmoke",fontSize:20,marginRight:"20px"}}})),ye=function(e){var t=e.fileOpen,n=e.onClickShare,r=Ce();return Object(y.jsx)(oe.a,{elevation:0,position:"static",color:"primary",children:Object(y.jsxs)(ce.a,{variant:"regular",style:{borderBottom:"1px solid \t#585858",backgroundColor:"#787878",display:"flex",justifyContent:"space-between"},children:[Object(y.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},children:[Object(y.jsx)(le.a,{variant:"h6",className:r.title,children:"BUILDRS"}),Object(y.jsx)(O.a,{edge:"start",color:"secondary","aria-label":"menu",style:{position:"relative"},onClick:t,children:Object(y.jsx)(ue.a,{style:{width:30,height:30,color:"whiteSmoke"}})})]}),Object(y.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},children:[Object(y.jsx)(O.a,{edge:"start",color:"secondary","aria-label":"menu",style:{position:"relative",right:10,width:25,height:25},children:Object(y.jsx)(je.a,{style:{width:20,height:20,color:"whiteSmoke"}})}),Object(y.jsx)(fe,{name:"Share",onClick:n}),Object(y.jsx)(we,{})]})]})})},Ie=Object(f.a)((function(e){return{root:Object(h.a)(Object(h.a)({},e.typography.button),{},{backgroundColor:e.palette.background.paper,padding:e.spacing(1),flexGrow:1}),menuToolbarContainer:{width:"100%",display:"flex",justifyContent:"flex-end",marginTop:"10px","@media (max-width: 900px)":{marginTop:"40px"}},elementsButton:{position:"absolute",top:80,right:20,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center","@media (max-width: 900px)":{marginTop:e.spacing(5),top:520,right:15}},title:{flexGrow:1,color:"WhiteSmoke",fontSize:20,marginRight:"20px"},shareContainer:{width:540,height:30,paddingLeft:10,color:"aqua",border:"1px solid aqua",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",position:"absolute",right:80,top:86},searchContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",position:"absolute",left:20,top:84},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"50px",width:"160px"},viewContainer:{position:"absolute",top:"0px",left:"0px",textAlign:"center",color:"blue",width:"100vw",height:"100vh",margin:"auto"},propertyViewContainer:{position:"absolute",top:"100px",right:"50px",width:"400px"}}})),ke=function(){var e=Ie(),t=Object(r.useState)(!1),n=Object(x.a)(t,2),i=n[0],a=n[1],c=Object(r.useState)(!1),o=Object(x.a)(c,2),l=o[0],s=o[1],u=Object(r.useState)(!1),d=Object(x.a)(u,2),j=d[0],h=d[1],f=Object(r.useState)({}),O=Object(x.a)(f,2),g=O[0],v=O[1],w=Object(r.useState)({}),C=Object(x.a)(w,2),I=C[0],S=C[1],N=Object(r.useState)({}),E=Object(x.a)(N,2),F=E[0],D=E[1],L=function(){var e=Object(b.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(n=t.expressID)){e.next=3;break}throw new Error("Selected element is missing Express ID");case 3:try{g.pickIfcItemsByID(0,[n])}catch(i){}return e.next=6,g.getProperties(0,t.expressID);case 6:r=e.sent,D(r),s(!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){var e=document.getElementById("viewer-container"),t=new m.a({container:e});v(t),t.addAxes(),t.addGrid(),window.onmousemove=t.prepickIfcItem,window.ondblclick=t.addClippingPlane,window.onkeydown=function(e){return t.removeClippingPlane()}}),[]);var B=0===Object.keys(I).length,P=0===Object.keys(F).length;return Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{style:{zIndex:0},children:Object(y.jsx)("div",{className:e.viewContainer,id:"viewer-container"})}),Object(y.jsx)("div",{id:"property-viewer-container",className:e.propertyViewContainer}),Object(y.jsxs)("div",{index:{zIndex:100},children:[Object(y.jsx)(ye,{fileOpen:function(){var e=function(){var e=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(g),e.next=3,g.loadIfc(t.target.files[0],!0);case 3:return e.next=5,g.IFC.getSpatialStructure(0,!0);case 5:n=e.sent,S(n),a(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=document.getElementById("viewer-container"),n=document.createElement("input");n.setAttribute("type","file"),n.classList.add("file-input"),n.addEventListener("change",(function(t){return e(t)}),!1),t.appendChild(n),n.click()},onClickShare:function(){h(!j)}}),Object(y.jsx)("div",{className:e.searchContainer,children:Object(y.jsx)(ae,{onClickMenu:function(){return a(!i)},disabled:B,open:i})}),j&&Object(y.jsx)("div",{className:e.shareContainer,children:"http://wwww.builders.com/kdjiui4kjh/dflakdjkfjlh"}),Object(y.jsx)("div",{className:e.elementsButton,children:Object(y.jsx)(k,{onClick:function(){return s(!l)},disabled:P,open:l})}),Object(y.jsxs)("div",{className:e.menuToolbarContainer,children:[Object(y.jsx)("div",{children:i?Object(y.jsx)(Z,{viewer:g,element:I,onElementSelect:L}):null}),Object(y.jsx)("div",{children:l?Object(y.jsx)(G,{viewer:g,element:F}):null})]})]})]})},Se=Object(s.a)({palette:{primary:{main:d.a[500],light:d.a[100]},secondary:{main:d.a[700]}}});var Ne=function(){return Object(y.jsx)(u.a,{theme:Se,children:Object(y.jsx)(o.a,{children:Object(y.jsx)(l.c,{children:Object(y.jsx)(l.a,{path:"/",children:Object(y.jsx)(ke,{})})})})})},Ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,216)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),a(e),c(e)}))};c.a.render(Object(y.jsx)(i.a.StrictMode,{children:Object(y.jsx)(Ne,{})}),document.getElementById("root")),Ee()},95:function(e,t,n){}},[[153,1,2]]]);
//# sourceMappingURL=main.b525480f.chunk.js.map