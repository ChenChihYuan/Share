(this.webpackJsonpbuilders=this.webpackJsonpbuilders||[]).push([[0],{105:function(e,t,n){},111:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=111},114:function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r),a=n(12),c=n.n(a),o=(n(97),n(76),n(69)),l=n(16),s=n(11),u=n.n(s),d=n(19),j=n(24),p=n(34),h=n(150),b=n(152),f=n(153),x=n(154),O=n(156),m=n(158),g=n(147),v=n(79),w=n.n(v),C=n(4),y=function(){var e=i.a.useState(null),t=Object(j.a)(e,2),n=t[0],r=t[1],a=Boolean(n),c=function(){r(null)};return Object(C.jsxs)("div",{children:[Object(C.jsx)(g.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){r(e.currentTarget)},color:"inherit",children:Object(C.jsx)(w.a,{})}),Object(C.jsxs)(O.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:a,onClose:c,children:[Object(C.jsx)(m.a,{onClick:c,children:"Profile"}),Object(C.jsx)(m.a,{onClick:c,children:"Logout"})]})]})},I=n(151),S=n(80),k=n.n(S),D=Object(h.a)((function(e){return{button:{height:36,margin:e.spacing(1)}}})),E=function(e){var t=e.name,n=e.onClick,r=D();return Object(C.jsx)(I.a,{variant:"contained",color:"secondary",className:r.button,startIcon:Object(C.jsx)(k.a,{}),size:"medium",onClick:n,children:t})},F=n(60),N=n.n(F),L=Object(h.a)((function(e){return{menuButton:{marginLeft:12,marginRight:22}}})),T=function(e){var t=e.onClick,n=L();return Object(C.jsx)(g.a,{edge:"start",className:n.menuButton,color:"secondary","aria-label":"menu",onClick:t,children:Object(C.jsx)(N.a,{style:{width:30,height:30}})})},B=n(117),P=n(88),A=(n(105),function e(t){var n=t.viewer,i=t.element,a=t.onElementSelect,c=t.showChildren,o=t.parentOpen,l=void 0!==o&&o;if(void 0===c)throw new Error;var s=Object(r.useState)(c),u=Object(j.a)(s,2),d=u[0],p=u[1],h=function(e){a(i)},b=function(e){switch(e.type){case"IFCBUILDING":case"IFCPROJECT":case"IFCSITE":case"IFCSPACE":return!0;default:return!1}},f=0;return Object(C.jsx)(P.a,{content:function(e){var t=n.getProperties(0,e.expressID);return null===t?"":(t.Name?t.Name.value:null)||function(e){switch(e.type){case"IFCBUILDING":return"Building";case"IFCBUILDINGSTOREY":return"Storey";case"IFCDOOR":return"Door";case"IFCFLOWTERMINAL":return"Flow Terminal";case"IFCPROJECT":return"Project";case"IFCROOF":return"Roof";case"IFCSITE":return"Site";case"IFCSLAB":return"Slab";case"IFCSPACE":return"Space";case"IFCWALL":return"Wall";case"IFCWALLSTANDARDCASE":return"Wall (std. case)";case"IFCWINDOW":return"Window";default:return e.type}}(e)}(i),open:d,onItemToggle:function(){console.log("#onItemToggle: calling setOpen(true)"),p(!0)},style:function(e){return"IFCPROJECT"===e.type?{position:"absolute",top:0,left:10}:{}}(i),type:function(e){return Object(C.jsx)("button",{onClick:h,"express-id":e.expressID,children:"\ud83d\udd0d"})}(i),children:l&&i.children&&i.children.length>0?i.children.map((function(t){return Object(C.jsx)(e,{viewer:n,element:t,onElementSelect:a,showChildren:b(t),parentOpen:d},f++)})):null})}),R=Object(h.a)((function(e){return{contextualMenu:{width:308,border:"none",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",overflow:"scroll",marginLeft:"-5px"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",width:"220px",backgroundColor:"lightGray"}}})),M=function(e){var t=e.viewer,n=e.element,r=e.onElementSelect,i=R();return Object(C.jsx)(B.a,{className:i.contextualMenu,style:{position:"absolute",top:144,left:24,height:"70%",overflow:"auto"},children:Object(C.jsx)(A,{viewer:t,element:n,onElementSelect:r,showChildren:!0,parentOpen:!0})})},W=function(e,t,n,r){var i=n[r];if(null===i||void 0===i)return"<empty>";var a=e.IFC.loader.ifcManager.properties;switch(r){case"GlobalId":case"Name":case"PredefinedType":if(null!=i.value)return i.value;break;case"ObjectPlacement":var c=parseInt(i.value);return JSON.stringify(a.getItemProperties(0,c,!0),"  ");default:return JSON.stringify(i,"  ")}},G=function(e){var t=e.viewer,n=e.element,r=t.getProperties(0,n.expressID),i=0;return Object(C.jsx)("table",{children:Object(C.jsx)("tbody",{children:Object.keys(r).map((function(e){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:e}),Object(C.jsx)("td",{children:W(t,0,r,e)})]},i++)}))})})},J=Object(h.a)((function(e){return{contextualMenu:{width:240,height:300,border:"none",marginLeft:"24px",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"50px",width:"160px"}}})),z=function(e){var t=e.viewer,n=e.element,r=J();return Object(C.jsx)("div",{className:r.contextualMenu,style:{height:"auto",position:"absolute",top:130,right:34},children:Object(C.jsx)(B.a,{elevation:3,className:r.paper,style:{position:"absolute",width:"auto",height:"auto",top:"0px",right:"0px",minHeight:"20%"},children:Object(C.jsx)(G,{viewer:t,element:n})})})},U=n(157),q=n(82),_=n.n(q),H=Object(h.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:300},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}}));function Y(e){var t=e.onClickMenu,n=H();return Object(C.jsxs)(B.a,{component:"form",className:n.root,children:[Object(C.jsx)(g.a,{className:n.iconButton,"aria-label":"menu",onClick:t,children:Object(C.jsx)(N.a,{})}),Object(C.jsx)(U.a,{className:n.input,placeholder:"Search IFC",inputProps:{"aria-label":"search google maps"}}),Object(C.jsx)(g.a,{type:"submit",className:n.iconButton,"aria-label":"search",children:Object(C.jsx)(_.a,{})})]})}var K=n(84),Q=n.n(K),V=n(85),X=n.n(V),Z=n(86),$=Object(h.a)((function(e){return{root:Object(p.a)(Object(p.a)({},e.typography.button),{},{backgroundColor:e.palette.background.paper,padding:e.spacing(1),flexGrow:1}),menuToolbarContainer:{width:"100%",display:"flex",justifyContent:"flex-end",marginTop:"10px"},title:{flexGrow:1,color:"WhiteSmoke",fontSize:20,marginRight:"20px"},shareContainer:{width:540,height:30,paddingLeft:10,color:"aqua",border:"1px solid aqua",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",position:"absolute",right:80,top:86},searchContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",position:"absolute",left:20,top:84},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"50px",width:"160px"}}})),ee=function(){var e=$(),t=Object(l.f)(),n=Object(r.useState)(!1),i=Object(j.a)(n,2),a=i[0],c=i[1],o=Object(r.useState)(!1),s=Object(j.a)(o,2),p=s[0],h=s[1],O=Object(r.useState)(!1),m=Object(j.a)(O,2),v=m[0],w=m[1],I=Object(r.useState)({}),S=Object(j.a)(I,2),k=S[0],D=S[1],F=Object(r.useState)({}),N=Object(j.a)(F,2),L=N[0],B=N[1],P=Object(r.useState)({}),A=Object(j.a)(P,2),R=A[0],W=A[1];Object(r.useEffect)((function(){var e=document.getElementById("viewer-container"),t=new Z.a({container:e});D(t),t.addAxes(),t.addGrid(),window.onmousemove=t.prepickIfcItem,window.ondblclick=t.addClippingPlane,window.onkeydown=function(e){t.removeClippingPlane()}}),[]);return Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{style:{zIndex:0},children:Object(C.jsx)("div",{id:"viewer-container",style:{position:"absolute",top:"0px",left:"0px",textAlign:"center",color:"blue",width:"100vw",height:"100vh",margin:"auto"}})}),Object(C.jsx)("div",{id:"property-viewer-container",style:{position:"absolute",top:"100px",right:"50px",width:"400px"}}),Object(C.jsxs)("div",{index:{zIndex:100},children:[Object(C.jsx)(b.a,{elevation:0,position:"static",color:"primary",children:Object(C.jsxs)(f.a,{variant:"regular",style:{borderBottom:"1px solid \t#585858",backgroundColor:"#787878",display:"flex",justifyContent:"space-between"},children:[Object(C.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},children:[Object(C.jsx)(x.a,{variant:"h6",className:e.title,onClick:function(){t.push("/cards")},children:"BUILDRS"}),Object(C.jsx)(g.a,{edge:"start",color:"secondary","aria-label":"menu",style:{position:"relative"},onClick:function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.loadIfc(t.target.files[0],!0);case 2:B(k.getSpatialStructure(0)),c(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=document.getElementById("viewer-container"),n=document.createElement("input");n.setAttribute("type","file"),n.classList.add("file-input"),n.addEventListener("change",(function(t){e(t)}),!1),t.appendChild(n),n.click()},children:Object(C.jsx)(Q.a,{style:{width:30,height:30,color:"whiteSmoke"}})})]}),Object(C.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},children:[Object(C.jsx)(g.a,{edge:"start",color:"secondary","aria-label":"menu",style:{position:"relative",right:10},children:Object(C.jsx)(X.a,{style:{width:30,height:30,color:"whiteSmoke"}})}),Object(C.jsx)(E,{name:"Share",onClick:function(){w(!v)}}),Object(C.jsx)(y,{})]})]})}),Object(C.jsx)("div",{className:e.searchContainer,children:Object(C.jsx)(Y,{onClickMenu:function(){return c(!a)}})}),v&&Object(C.jsx)("div",{className:e.shareContainer,children:"http://wwww.builders.com/kdjiui4kjh/dflakdjkfjlh"}),Object(C.jsx)("div",{className:e.menuToolbarContainer,children:Object(C.jsx)(T,{onClick:function(){return h(!p)}})}),Object(C.jsxs)("div",{className:e.menuToolbarContainer,children:[Object(C.jsx)("div",{children:a?Object(C.jsx)(M,{viewer:k,element:L,onElementSelect:function(e){var t=e.expressID;if(void 0===t)throw new Error("Selected element is missing Express ID");try{k.pickIfcItemsByID(0,[t])}catch(n){console.log("TODO: no visual element for item: ",e)}W(e),h(!0)}}):null}),Object(C.jsx)("div",{children:p?Object(C.jsx)(z,{viewer:k,element:R}):null})]})]})]})},te=n(87),ne=n(155),re=n(63),ie=Object(te.a)({palette:{primary:{main:re.a[500],light:re.a[100]},secondary:{main:re.a[700]}}});var ae=function(){return Object(C.jsx)(ne.a,{theme:ie,children:Object(C.jsx)(o.a,{children:Object(C.jsx)(l.c,{children:Object(C.jsx)(l.a,{path:"/",children:Object(C.jsx)(ee,{})})})})})},ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,159)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),a(e),c(e)}))};c.a.render(Object(C.jsx)(i.a.StrictMode,{children:Object(C.jsx)(ae,{})}),document.getElementById("root")),ce()},76:function(e,t,n){},97:function(e,t,n){}},[[114,1,2]]]);
//# sourceMappingURL=main.d63ce11f.chunk.js.map