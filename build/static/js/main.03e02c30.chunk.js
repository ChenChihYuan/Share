(this.webpackJsonpbuilders=this.webpackJsonpbuilders||[]).push([[0],{104:function(e,t,n){},109:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=109},113:function(e,t,n){"use strict";n.r(t);var i=n(2),r=n.n(i),a=n(13),o=n.n(a),c=(n(97),n(71),n(86)),l=n(17),s=n(11),u=n.n(s),d=n(19),p=n(21),j=n(34),h=n(146),b=n(148),x=n(75),f=n.n(x),m=n(76),O=n.n(m),g=n(4),v=Object(h.a)((function(e){return{menuButton:{border:"2px solid lime","@media (max-width: 1280px)":{border:"2px solid lime"}},menuButtonDisabled:{"@media (max-width: 1280px)":{}}}})),w=function(e){var t=e.onClick,n=e.disabled,i=e.open,r=v();return Object(g.jsx)(b.a,{edge:"start",className:n?r.menuButtonDisabled:r.menuButton,color:"secondary","aria-label":"menu",onClick:t,disabled:n,children:i?Object(g.jsx)(f.a,{style:{width:30,height:30}}):Object(g.jsx)(O.a,{style:{width:30,height:30}})})},y=n(116),C=n(57),I=(n(104),function e(t){var n=t.viewer,r=t.element,a=t.onElementSelect,o=t.showChildren,c=t.parentOpen,l=void 0!==c&&c;if(void 0===o)throw new Error;var s=Object(i.useState)(o),u=Object(p.a)(s,2),d=u[0],j=u[1],h=function(e){a(r)},b=function(e){switch(e.type){case"IFCBUILDING":case"IFCPROJECT":case"IFCSITE":case"IFCSPACE":return!0;default:return!1}},x=0;return Object(g.jsx)(C.a,{content:function(e){var t=n.getProperties(0,e.expressID);return null===t?"":(t.Name?t.Name.value:null)||function(e){switch(e.type){case"IFCBUILDING":return"Building";case"IFCBUILDINGSTOREY":return"Storey";case"IFCDOOR":return"Door";case"IFCFLOWTERMINAL":return"Flow Terminal";case"IFCPROJECT":return"Project";case"IFCROOF":return"Roof";case"IFCSITE":return"Site";case"IFCSLAB":return"Slab";case"IFCSPACE":return"Space";case"IFCWALL":return"Wall";case"IFCWALLSTANDARDCASE":return"Wall (std. case)";case"IFCWINDOW":return"Window";default:return e.type}}(e)}(r),open:d,onItemToggle:function(){console.log("#onItemToggle: calling setOpen(true)"),j(!0)},style:function(e){return"IFCPROJECT"===e.type?{position:"absolute",top:0,left:10}:{}}(r),type:function(e){return Object(g.jsx)("button",{onClick:h,"express-id":e.expressID,children:"\ud83d\udd0d"})}(r),children:l&&r.children&&r.children.length>0?r.children.map((function(t){return Object(g.jsx)(e,{viewer:n,element:t,onElementSelect:a,showChildren:b(t),parentOpen:d},x++)})):null})}),k=Object(h.a)((function(e){return{contextualMenu:{width:308,border:"none",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",overflow:"scroll",marginLeft:"-5px",height:"70%","@media (max-width: 900px)":{height:"50%"}},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",width:"220px",backgroundColor:"lightGray"}}})),S=function(e){var t=e.viewer,n=e.element,i=e.onElementSelect,r=k();return Object(g.jsx)(y.a,{className:r.contextualMenu,style:{position:"absolute",top:144,left:24,overflow:"auto",display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:Object(g.jsx)(I,{viewer:t,element:n,onElementSelect:i,showChildren:!0,parentOpen:!0})})},D=n(78),E=n.n(D),N=function(e){if(null!=e)return e.value;throw new Error("Ref undefined or null: ",e)},F=function(e,t,n){return"".concat(e,"\xb0 ").concat(t,"' ").concat(n,"''")},L=function(e,t,n){return null!==t?Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e}),Object(g.jsx)("td",{children:t})]},n):Object(g.jsx)("tr",{children:Object(g.jsx)("td",{colSpan:"2",children:e})},n)},B=function(e){var t=e.viewer,n=e.element,i=t.getProperties(0,n.expressID),r=0;return Object(g.jsx)("table",{children:Object(g.jsx)("tbody",{children:Object.keys(i).map((function(e){return function(e,t,n,i,r){var a=i[n];if(null===a||void 0===a)return L(n,"<empty>",r);var o=e.IFC.loader.ifcManager.properties;switch(n){case"GlobalId":return L(n,E.a.decode(N(a)),r);case"Name":case"PredefinedType":if(null!=a.value)return L(n,a.value,r);break;case"OwnerHistory":return L(Object(g.jsx)(R,{name:"OwnerHistory",obj:o.getItemProperties(0,parseInt(a.value),!0)}),null,r);case"ObjectPlacement":return L(Object(g.jsx)(R,{name:"ObjectPlacement",obj:o.getItemProperties(0,parseInt(a.value),!0)}),null,r);case"RefLatitude":return L("Latitude",F(N(a[0]),N(a[1]),N(a[2])),r);case"RefLongitude":return L("Longitude",F(N(a[0]),N(a[1]),N(a[2])),r);case"Elevation":case"RefElevation":return L("Elevation",N(a),r);default:return L(n,JSON.stringify(a,"  "),r)}}(t,0,e,i,r++)}))})})},T=function(e){return null!=e.type&&null!=e.value},P=function(e){return"".concat(e.value)},R=function e(t){var n=t.name,i=t.obj,r=0;if(void 0===i||null===i)return null;var a="object"===typeof i;return Object(g.jsx)(C.a,{content:"".concat(a?n:i),open:!1,children:a?T(i)?P(i):Object.keys(i).map((function(t){return Object(g.jsx)(e,{name:t,obj:i[t]},r++)})):null})},A=Object(h.a)((function(e){return{contextualMenu:{width:240,height:300,border:"none",marginLeft:"24px",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",top:152,right:20,"@media (max-width: 900px)":{height:"50%",top:140,left:62}},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"50px",width:"160px"}}})),M=function(e){var t=e.viewer,n=e.element,i=A();return Object(g.jsx)("div",{className:i.contextualMenu,style:{height:"auto",position:"absolute"},children:Object(g.jsx)(y.a,{elevation:3,className:i.paper,style:{position:"absolute",width:"auto",height:"auto",top:"0px",right:"0px",minHeight:"20%"},children:Object(g.jsx)(B,{viewer:t,element:n})})})},W=n(156),G=n(79),z=n.n(G),J=n(80),U=n.n(J),H=Object(h.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:300},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}}));function q(e){var t=e.onClickMenu,n=e.disabled,i=(e.open,H());return Object(g.jsxs)(y.a,{component:"form",className:i.root,children:[Object(g.jsx)(b.a,{className:i.iconButton,"aria-label":"menu",onClick:t,disabled:n,children:Object(g.jsx)(z.a,{})}),Object(g.jsx)(W.a,{className:i.input,placeholder:"Search IFC",inputProps:{"aria-label":"search google maps"}}),Object(g.jsx)(b.a,{type:"submit",className:i.iconButton,"aria-label":"search",children:Object(g.jsx)(U.a,{})})]})}var V=n(87),_=n(152),Y=n(151),K=n(153),Q=n(84),X=n.n(Q),Z=n(85),$=n.n(Z),ee=n(150),te=n(82),ne=n.n(te),ie=Object(h.a)((function(e){return{button:{height:36,margin:e.spacing(1)}}})),re=function(e){var t=e.name,n=e.onClick,i=ie();return Object(g.jsx)(ee.a,{variant:"contained",color:"secondary",className:i.button,startIcon:Object(g.jsx)(ne.a,{}),size:"medium",onClick:n,children:t})},ae=n(155),oe=n(157),ce=n(83),le=n.n(ce),se=function(){var e=r.a.useState(null),t=Object(p.a)(e,2),n=t[0],i=t[1],a=Boolean(n),o=function(){i(null)};return Object(g.jsxs)("div",{children:[Object(g.jsx)(b.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},color:"inherit",children:Object(g.jsx)(le.a,{})}),Object(g.jsxs)(ae.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:a,onClose:o,children:[Object(g.jsx)(oe.a,{onClick:o,children:"Profile"}),Object(g.jsx)(oe.a,{onClick:o,children:"Logout"})]})]})},ue=Object(h.a)((function(e){return{title:{flexGrow:1,color:"WhiteSmoke",fontSize:20,marginRight:"20px"}}})),de=function(e){var t=e.fileOpen,n=e.onClickShare,i=ue();return Object(g.jsx)(Y.a,{elevation:0,position:"static",color:"primary",children:Object(g.jsxs)(_.a,{variant:"regular",style:{borderBottom:"1px solid \t#585858",backgroundColor:"#787878",display:"flex",justifyContent:"space-between"},children:[Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},children:[Object(g.jsx)(K.a,{variant:"h6",className:i.title,children:"BUILDRS"}),Object(g.jsx)(b.a,{edge:"start",color:"secondary","aria-label":"menu",style:{position:"relative"},onClick:t,children:Object(g.jsx)(X.a,{style:{width:30,height:30,color:"whiteSmoke"}})})]}),Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},children:[Object(g.jsx)(b.a,{edge:"start",color:"secondary","aria-label":"menu",style:{position:"relative",right:10,width:25,height:25},children:Object(g.jsx)($.a,{style:{width:20,height:20,color:"whiteSmoke"}})}),Object(g.jsx)(re,{name:"Share",onClick:n}),Object(g.jsx)(se,{})]})]})})},pe=Object(h.a)((function(e){return{root:Object(j.a)(Object(j.a)({},e.typography.button),{},{backgroundColor:e.palette.background.paper,padding:e.spacing(1),flexGrow:1}),menuToolbarContainer:{width:"100%",display:"flex",justifyContent:"flex-end",marginTop:"10px","@media (max-width: 900px)":{marginTop:"40px"}},elementsButton:{position:"absolute",top:80,right:20,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center","@media (max-width: 900px)":{marginTop:e.spacing(5),top:520,right:15}},title:{flexGrow:1,color:"WhiteSmoke",fontSize:20,marginRight:"20px"},shareContainer:{width:540,height:30,paddingLeft:10,color:"aqua",border:"1px solid aqua",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",position:"absolute",right:80,top:86},searchContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",position:"absolute",left:20,top:84},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"50px",width:"160px"},viewContainer:{position:"absolute",top:"0px",left:"0px",textAlign:"center",color:"blue",width:"100vw",height:"100vh",margin:"auto"},propertyViewContainer:{position:"absolute",top:"100px",right:"50px",width:"400px"}}})),je=function(){var e=pe(),t=Object(i.useState)(!1),n=Object(p.a)(t,2),r=n[0],a=n[1],o=Object(i.useState)(!1),c=Object(p.a)(o,2),l=c[0],s=c[1],j=Object(i.useState)(!1),h=Object(p.a)(j,2),b=h[0],x=h[1],f=Object(i.useState)({}),m=Object(p.a)(f,2),O=m[0],v=m[1],y=Object(i.useState)({}),C=Object(p.a)(y,2),I=C[0],k=C[1],D=Object(i.useState)({}),E=Object(p.a)(D,2),N=E[0],F=E[1];Object(i.useEffect)((function(){var e=document.getElementById("viewer-container"),t=new V.a({container:e});v(t),t.addAxes(),t.addGrid(),window.onmousemove=t.prepickIfcItem,window.ondblclick=t.addClippingPlane,window.onkeydown=function(e){t.removeClippingPlane()}}),[]);var L=0===Object.keys(I).length,B=0===Object.keys(N).length;return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{style:{zIndex:0},children:Object(g.jsx)("div",{className:e.viewContainer,id:"viewer-container"})}),Object(g.jsx)("div",{id:"property-viewer-container",className:e.propertyViewContainer}),Object(g.jsxs)("div",{index:{zIndex:100},children:[Object(g.jsx)(de,{fileOpen:function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.loadIfc(t.target.files[0],!0);case 2:k(O.getSpatialStructure(0)),a(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=document.getElementById("viewer-container"),n=document.createElement("input");n.setAttribute("type","file"),n.classList.add("file-input"),n.addEventListener("change",(function(t){e(t)}),!1),t.appendChild(n),n.click()},onClickShare:function(){x(!b)}}),Object(g.jsx)("div",{className:e.searchContainer,children:Object(g.jsx)(q,{onClickMenu:function(){return a(!r)},disabled:L,open:r})}),b&&Object(g.jsx)("div",{className:e.shareContainer,children:"http://wwww.builders.com/kdjiui4kjh/dflakdjkfjlh"}),Object(g.jsx)("div",{className:e.elementsButton,children:Object(g.jsx)(w,{onClick:function(){return s(!l)},disabled:B,open:l})}),Object(g.jsxs)("div",{className:e.menuToolbarContainer,children:[Object(g.jsx)("div",{children:r?Object(g.jsx)(S,{viewer:O,element:I,onElementSelect:function(e){var t=e.expressID;if(void 0===t)throw new Error("Selected element is missing Express ID");try{O.pickIfcItemsByID(0,[t])}catch(n){console.log("TODO: no visual element for item: ",e)}F(e),s(!0)}}):null}),Object(g.jsx)("div",{children:l?Object(g.jsx)(M,{viewer:O,element:N}):null})]})]})]})},he=n(88),be=n(154),xe=n(59),fe=Object(he.a)({palette:{primary:{main:xe.a[500],light:xe.a[100]},secondary:{main:xe.a[700]}}});var me=function(){return Object(g.jsx)(be.a,{theme:fe,children:Object(g.jsx)(c.a,{children:Object(g.jsx)(l.c,{children:Object(g.jsx)(l.a,{path:"/",children:Object(g.jsx)(je,{})})})})})},Oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,158)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),r(e),a(e),o(e)}))};o.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(me,{})}),document.getElementById("root")),Oe()},71:function(e,t,n){},97:function(e,t,n){}},[[113,1,2]]]);
//# sourceMappingURL=main.03e02c30.chunk.js.map